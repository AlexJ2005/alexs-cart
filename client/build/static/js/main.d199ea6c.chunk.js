(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(t,e,a){},36:function(t,e,a){t.exports=a(64)},41:function(t,e,a){},46:function(t,e,a){t.exports=a.p+"static/media/shop.01ad5bbc.png"},64:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(33),o=a.n(c),s=(a(41),a(21)),u=a(20),i=a(5),l=a(6),p=a(8),d=a(7),m=a(9),h=a(12),f=a(11),b=(a(17),function(t){function e(t){return Object(i.a)(this,e),Object(p.a)(this,Object(d.a)(e).call(this,t))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"productsGrid"},r.a.createElement("p",{style:{fontSize:"20px"}},this.props.product.name),r.a.createElement("p",null,this.props.product.price," Dollars"),r.a.createElement("p",null,"Amount: ",this.props.product.amount),r.a.createElement("button",{className:"addButton",onClick:function(){return t.props.onIncrement(t.props.product)}},"Add to cart"))}}]),e}(r.a.Component)),E=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(p.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).totalPrice=function(t,e){return t+e.amount*e.price},a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{className:"totalCost-elements"},r.a.createElement(h.b,{to:"/cart"},"  ",r.a.createElement("img",{style:{paddingTop:"40px"},src:a(46),alt:"shopping cart",width:"120",height:"100"})," "),r.a.createElement("p",{style:{margin:"0px",paddingTop:"80px",paddingRight:"200px"}},this.props.products.reduce(this.totalPrice,0),"$")))}}]),e}(r.a.Component),O=a(14),j=a.n(O),v=function(t){function e(){return Object(i.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,this.props.loading?r.a.createElement("div",null,"loading"):r.a.createElement("div",null,r.a.createElement("header",{className:"shopping-header"},r.a.createElement("h1",null,"Shopping cart"),r.a.createElement("button",{className:"addButton",onClick:function(){return t.props.clearCart(t.props.products)}},"Clear cart"),r.a.createElement(E,{className:"totalCost",products:this.props.products})),r.a.createElement("div",{className:"products-container"},this.props.products.map(function(e){return r.a.createElement(b,{className:"productsGrid",product:e,key:e._id,onIncrement:t.props.increment})}))))}}]),e}(n.Component),g=function(t){function e(){return Object(i.a)(this,e),Object(p.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement("div",null,r.a.createElement(h.b,{to:"/",className:"home-button"},"Homepage"),this.props.products.map(function(e){if(e.amount>0)return r.a.createElement("div",{key:e._id,className:"products-cart-container"},r.a.createElement("p",{className:"products-cart"},e.name," ",e.amount),r.a.createElement("button",{onClick:function(){return t.props.incrementCart(e)},className:"delete-button"},"+"),r.a.createElement("button",{onClick:function(){return t.props.subtractCart(e)},className:"delete-button"},"-"))}))}}]),e}(n.Component),C=function(t){function e(t){var a;return Object(i.a)(this,e),(a=Object(p.a)(this,Object(d.a)(e).call(this,t))).deleteFromCart=function(t){j.a.patch("https://localhost:5000/api/".concat(t),{amount:0}).then(function(t){return a.setState({products:t.data.products})})},a.subtractFromCart=function(t){var e=Object(u.a)(a.state.products),n=e.indexOf(t);e[n]=Object(s.a)({},t),e[n].amount--,j.a.patch("https://localhost:5000/api/".concat(t._id),{amount:e[n].amount}).then(function(t){return a.setState({products:t.data.products})})},a.fetchItems=function(){j.a.get("https://localhost:5000/api",{method:"GET",headers:{"Content-Type":"text/plain","Access-Control-Allow-Origin":"https://localhost:5000/api"}}).then(function(t){a.setState({products:t.data.products,loading:!1})}).catch(function(t){return console.log(t)})},a.increment=function(t){var e=Object(u.a)(a.state.products),n=e.indexOf(t);e[n]=Object(s.a)({},t),e[n].amount++,j.a.patch("https://localhost:5000/api/".concat(t._id),{amount:e[n].amount}).then(function(t){return a.setState({products:t.data.products})})},a.clearCart=function(t){t.map(function(t){j.a.patch("https://localhost:5000/api/".concat(t._id),{amount:0}).then(function(t){return a.setState({products:t.data.products})}).catch(function(t){return console.log(t)})})},a.state={loading:!0,products:[]},a.fetchItems(),a}return Object(m.a)(e,t),Object(l.a)(e,[{key:"render",value:function(){var t=this;return r.a.createElement(h.a,null,r.a.createElement(f.a,{path:"/cart",render:function(){return r.a.createElement(g,{incrementCart:t.increment,subtractCart:t.subtractFromCart,products:t.state.products})}}),r.a.createElement(f.a,{path:"/",exact:!0,render:function(){return r.a.createElement(v,{deleteFromCart:t.deleteFromCart,loading:t.state.loading,products:t.state.products,clearCart:t.clearCart,increment:t.increment})}}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[36,1,2]]]);
//# sourceMappingURL=main.d199ea6c.chunk.js.map